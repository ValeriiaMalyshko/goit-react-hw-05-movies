{"version":3,"file":"static/js/509.0ce9518e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.js","services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Container\":\"MovieDetails_Container__RyaeD\",\"Button\":\"MovieDetails_Button__b96C4\"};","import React, { useState, useEffect, lazy, Suspense } from 'react';\nimport { Link, useParams, Routes, Route, useNavigate } from 'react-router-dom';\nimport { Movie } from 'services/API';\nimport NoPoster from './no-poster.jpg';\nimport s from './MovieDetails.module.css';\n\nconst Reviews = lazy(() => import('../Reviews/Reviews'));\nconst Cast = lazy(() => import('../Cast/Cast'));\n\nexport default function MovieDetails() {\n  const navigate = useNavigate();\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  useEffect(() => {\n    Movie(movieId).then(setMovie);\n  }, [movieId]);\n\n  function handleClick() {\n    navigate(-1);\n  }\n\n  if (movie) {\n    const { poster_path, genres, title, overview, release_date, vote_average } =\n      movie;\n\n    const pictureUrl = `https://image.tmdb.org/t/p/w500${poster_path}`;\n    return (\n      <>\n        <button className={s.Button} onClick={handleClick}>\n          Кнопка назад\n        </button>\n\n        <div key={movieId} className={s.Container}>\n          <div>\n            {poster_path ? (\n              <img src={pictureUrl} alt={title} />\n            ) : (\n              <img src={NoPoster} alt=\"Uknown\" />\n            )}\n          </div>\n          <h5>\n            {title} ({release_date?.split('-')[0]})\n          </h5>\n          <p>User Score: {vote_average * 10}%</p>\n          <h5>Overview</h5>\n          <p>{overview}</p>\n          <h5>Genres</h5>\n          <p>\n            {genres.map(({ name }) => (\n              <span key={name}>{name} </span>\n            ))}\n          </p>\n          <h5>Additional information</h5>\n          <ul>\n            <li>\n              <Link to=\"cast\">Cast</Link>\n            </li>\n            <li>\n              <Link to=\"reviews\">Reviews</Link>\n            </li>\n          </ul>\n          <Suspense fallback={<h1>Loading</h1>}>\n            <Routes>\n              <Route path=\"cast\" element={<Cast id={movieId} />} />\n              <Route path=\"reviews\" element={<Reviews id={movieId} />} />\n            </Routes>\n          </Suspense>\n        </div>\n      </>\n    );\n  }\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY = '044cb4a395576b2afeda8b70ead6e0f2';\n\nexport async function MoviesList() {\n  const params = {\n    api_key: KEY,\n  };\n  try {\n    const response = await axios(`/trending/all/day`, { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function MoviesSearch(searchQuery = '') {\n  const params = {\n    api_key: KEY,\n    query: searchQuery,\n  };\n  try {\n    const response = await axios('/search/movie', { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function Movie(id = '') {\n  const params = {\n    api_key: KEY,\n    // movie_id: id,\n  };\n  try {\n    const response = await axios(`/movie/${id}`, { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function MovieCredits(id = '') {\n  const params = {\n    api_key: KEY,\n    // movie_id: id,\n  };\n  try {\n    const response = await axios(`/movie/${id}/credits`, { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function MovieReviews(id = '') {\n  const params = {\n    api_key: KEY,\n    // movie_id: id,\n  };\n  try {\n    const response = await axios(`/movie/${id}/reviews`, { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["Reviews","lazy","Cast","MovieDetails","navigate","useNavigate","movieId","useParams","useState","movie","setMovie","useEffect","Movie","then","poster_path","genres","title","overview","release_date","vote_average","pictureUrl","className","s","onClick","src","alt","NoPoster","split","map","name","to","Suspense","fallback","path","element","id","axios","KEY","MoviesList","params","api_key","response","data","console","error","MoviesSearch","searchQuery","query","MovieCredits","MovieReviews"],"sourceRoot":""}