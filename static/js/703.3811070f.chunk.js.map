{"version":3,"file":"static/js/703.3811070f.chunk.js","mappings":"8NACA,EAA4B,0BAA5B,EAA6D,qBAA7D,EAA2F,uBAA3F,EAA0H,sBAA1H,EAAuJ,qBAAvJ,EAAmL,qB,SCIpK,SAASA,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAcH,EAAaI,IAAI,SACjCD,IACFE,EAAAA,EAAAA,IAAaF,GAAaG,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBT,EAAUS,SAqB9D,OACE,oBAAQC,UAAWC,EAAnB,WACE,kBAAMC,SAfW,SAAAC,GACnBA,EAAEC,iBACF,IAAMT,EAAcR,EAAMkB,OAAOC,oBAEb,KAAhBX,GAIJF,EAAgB,CAAEN,MAAOQ,KAEzBE,EAAAA,EAAAA,IAAaF,GAAaG,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBT,EAAUS,OALxDQ,MAAM,gCAUwBP,UAAWC,EAAzC,WACE,kBACED,UAAWC,EACXO,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,cACZC,MAAOzB,EACP0B,SA3Ba,SAAAV,GACnBf,EAASe,EAAEW,cAAcF,MAAMG,mBA4B3B,mBAAQP,KAAK,SAASR,UAAWC,EAAjC,UACE,0CAGHZ,IACC,eAAIW,UAAWC,EAAf,SACGZ,EAAO2B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,eAAalB,UAAWC,EAAxB,UACE,SAAC,KAAD,CAAMkB,GAAE,UAAKF,GAAb,SAAoBC,KADbD,a,0MCnDrBG,IAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAM,mCAEL,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,6FACCC,EAAS,CACbC,QAASH,GAFN,kBAKoBD,GAAAA,CAAM,oBAAqB,CAAEG,OAAAA,IALjD,cAKGE,EALH,yBAMIA,EAASC,MANb,gCAQHC,QAAQC,MAAR,MARG,gFAYA,SAAe/B,IAAtB,4CAAO,OAAP,oBAAO,2GAA4BF,EAA5B,+BAA0C,GACzC4B,EAAS,CACbC,QAASH,EACTlC,MAAOQ,GAHJ,kBAMoByB,GAAAA,CAAM,gBAAiB,CAAEG,OAAAA,IAN7C,cAMGE,EANH,yBAOIA,EAASC,MAPb,gCASHC,QAAQC,MAAR,MATG,iFAaA,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,2GAAqBZ,EAArB,+BAA0B,GACzBM,EAAS,CACbC,QAASH,GAFN,kBAMoBD,GAAAA,CAAM,UAAD,OAAWH,GAAM,CAAEM,OAAAA,IAN5C,cAMGE,EANH,yBAOIA,EAASC,MAPb,gCASHC,QAAQC,MAAR,MATG,iFAaA,SAAeE,IAAtB,4CAAO,OAAP,oBAAO,2GAA4Bb,EAA5B,+BAAiC,GAChCM,EAAS,CACbC,QAASH,GAFN,kBAMoBD,GAAAA,CAAM,UAAD,OAAWH,EAAX,YAAyB,CAAEM,OAAAA,IANpD,cAMGE,EANH,yBAOIA,EAASC,MAPb,gCASHC,QAAQC,MAAR,MATG,iFAaA,SAAeG,IAAtB,4CAAO,OAAP,oBAAO,2GAA4Bd,EAA5B,+BAAiC,GAChCM,EAAS,CACbC,QAASH,GAFN,kBAMoBD,GAAAA,CAAM,UAAD,OAAWH,EAAX,YAAyB,CAAEM,OAAAA,IANpD,cAMGE,EANH,yBAOIA,EAASC,MAPb,gCASHC,QAAQC,MAAR,MATG","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.js","services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Container\":\"Movies_Container__EE37G\",\"form\":\"Movies_form__mp42q\",\"button\":\"Movies_button__hVjwG\",\"input\":\"Movies_input__OE3ef\",\"link\":\"Movies_link__0oDWE\",\"list\":\"Movies_list__JEO-P\"};","import React, { useState, useEffect } from 'react';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { MoviesSearch } from 'services/API';\nimport s from './Movies.module.css';\n\nexport default function Movies() {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const searchQuery = searchParams.get('query');\n    if (searchQuery) {\n      MoviesSearch(searchQuery).then(({ results }) => setMovies(results));\n    }\n  });\n\n  const handleChange = e => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const searchQuery = query.trim().toLocaleLowerCase();\n\n    if (searchQuery === '') {\n      alert('Please, enter a movie title');\n      return;\n    }\n    setSearchParams({ query: searchQuery });\n\n    MoviesSearch(searchQuery).then(({ results }) => setMovies(results));\n  };\n\n  return (\n    <header className={s.Container}>\n      <form onSubmit={handleSubmit} className={s.form}>\n        <input\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search film\"\n          value={query}\n          onChange={handleChange}\n        />\n        <button type=\"submit\" className={s.button}>\n          <span>Search</span>\n        </button>\n      </form>\n      {movies && (\n        <ul className={s.list}>\n          {movies.map(({ id, title }) => (\n            <li key={id} className={s.link}>\n              <Link to={`${id}`}>{title}</Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </header>\n  );\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY = '044cb4a395576b2afeda8b70ead6e0f2';\n\nexport async function MoviesList() {\n  const params = {\n    api_key: KEY,\n  };\n  try {\n    const response = await axios(`/trending/all/day`, { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function MoviesSearch(searchQuery = '') {\n  const params = {\n    api_key: KEY,\n    query: searchQuery,\n  };\n  try {\n    const response = await axios('/search/movie', { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function Movie(id = '') {\n  const params = {\n    api_key: KEY,\n    // movie_id: id,\n  };\n  try {\n    const response = await axios(`/movie/${id}`, { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function MovieCredits(id = '') {\n  const params = {\n    api_key: KEY,\n    // movie_id: id,\n  };\n  try {\n    const response = await axios(`/movie/${id}/credits`, { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function MovieReviews(id = '') {\n  const params = {\n    api_key: KEY,\n    // movie_id: id,\n  };\n  try {\n    const response = await axios(`/movie/${id}/reviews`, { params });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["Movies","useState","query","setQuery","movies","setMovies","useSearchParams","searchParams","setSearchParams","useEffect","searchQuery","get","MoviesSearch","then","results","className","s","onSubmit","e","preventDefault","trim","toLocaleLowerCase","alert","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","map","id","title","to","axios","KEY","MoviesList","params","api_key","response","data","console","error","Movie","MovieCredits","MovieReviews"],"sourceRoot":""}